<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        /* Basic reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            display: flex;
            min-height: 100vh;
            background-color: #f4f6f8;
        }

        /* Sidebar styles */
        /* Sidebar Styles */
        .sidebar {
            width: 250px; /* Fixed width for sidebar */
            background: linear-gradient(135deg, #e74c3c, #8e44ad); /* Gradient similar to content-header */
            color: white; /* Light text color */
            padding-top: 20px; /* Padding from the top */
            position: fixed; /* Keeps sidebar fixed as you scroll */
            height: 100vh; /* Full height */
            top: 0; /* Align to top */
            left: 0; /* Align to the left */
            font-family: Arial, sans-serif; /* Font for the sidebar */
            z-index: 1000; /* Ensure sidebar is on top */
        }

        .sidebar h2 {
            text-align: center; /* Center the heading */
            font-size: 24px; /* Font size for the heading */
            margin-bottom: 40px; /* Bottom margin to space out links */
            color: white; /* Light text color for header */
        }

        .sidebar a {
            display: block; /* Make links block-level for proper spacing */
            color: white; /* White text for links */
            font-size: 18px; /* Font size for links */
            padding: 15px; /* Padding inside links */
            text-decoration: none; /* Remove underline from links */
            transition: background-color 0.3s ease, color 0.3s ease; /* Smooth hover transition */
        }

        .sidebar a:hover {
            background-color: #34495e; /* Darker background when hovering */
            color: #fff; /* White text when hovered */
        }

        .sidebar a.active {
            background-color: #1abc9c; /* Active link highlight color */
        }

        /* Responsive Sidebar: Adjustments for smaller screen sizes */
        @media screen and (max-width: 768px) {
            .sidebar {
                width: 100%; /* Sidebar becomes full-width on smaller screens */
                height: auto; /* Allow height to adjust */
                position: relative; /* Remove fixed position on mobile */
            }

            .sidebar a {
                font-size: 16px; /* Adjust font size for mobile */
                padding: 12px; /* Reduce padding for mobile */
            }
        }


        /* Main content area */
        .main-content {
            margin-left: 250px;
            padding: 20px;
            width: 100%;
            background-color: #ecf0f1;
        }

        /* Content header */
        .content-header {
            text-align: center; /* Centers the text */
            background-color: #f0f1f6; /* Soft light background for contrast */
            padding: 40px 20px; /* Padding for spacing */
            border-radius: 8px; /* Rounded corners for a softer look */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Soft shadow for a floating effect */
            margin-bottom: 40px; /* Bottom margin to separate from other content */
        }

        .content-header h1 {
            font-size: 36px; /* Larger font for the main title */
            color: #34495e; /* Darker text color for the title */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Modern font */
            font-weight: bold; /* Make the heading bold */
            margin-bottom: 10px; /* Space between title and subtitle */
            text-transform: capitalize; /* Capitalize the first letter of each word */
        }

        .content-header p {
            font-size: 18px; /* Medium font size for the description */
            color: #7f8c8d; /* Lighter text color for the description */
            font-family: 'Arial', sans-serif; /* Clean and simple font */
            line-height: 1.6; /* Increased line height for readability */
            margin-top: 0; /* No margin at the top */
            margin-bottom: 0; /* No margin at the bottom */
        }

        /* Optional: Add a gradient effect to the background for a subtle modern feel */
        .content-header {
            background: linear-gradient(135deg, #e74c3c, #8e44ad); /* Gradient from red to purple */
            color: white; /* White text on gradient background */
        }


        .cards {
            display: flex;
            justify-content: space-between;
            margin-bottom: 40px;
        }

        .card {
            background-color: #ecf0f1;
            width: 30%;
            padding: 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .card h3 {
            font-size: 22px;
            margin-bottom: 10px;
        }

        .card p {
            font-size: 16px;
        }

        /* Special cards */
        .ticket-card {
            background-color: #16a085;
            color: white;
        }

        .feedback-card {
            background-color: #e74c3c;
            color: white;
        }

        .history-card {
            background-color: #f39c12;
            color: white;
        }

        .notification-card {
            background-color: #8e44ad;
            color: white;
        }

        /* Search form styles */
        .search {
            display: none;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-size: 16px;
            margin-bottom: 8px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border-radius: 4px;
            border: 1px solid #ccc;
        }

        .form-group select {
            cursor: pointer;
        }

        .search-btn {
            width: 100%;
            padding: 10px;
            background-color: #3498db;
            color: white;
            font-size: 18px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .search-btn:hover {
            background-color: #2980b9;
        }

        /* Table styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 40px;
        }

        table, th, td {
            border: 1px solid #ddd;
        }

        th, td {
            padding: 12px;
            text-align: center;
        }

        th {
            background-color: #2c3e50;
            color: white;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        button.edit-button {
            padding: 10px 15px;
            background-color: #3498db;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 4px;
        }

        button.edit-button:hover {
            background-color: #2980b9;
        }

    </style>
</head>

<body>
<div class="sidebar">
    <a href="#" id="booking-link">Dashboard </a>
    <a href="javascript:void(0);" onclick="displaySearchForm()">Search and Book Tickets</a>
    <a href="/booking_history" id="booking-link">Booking History</a>
    <a href="/user_feedback" id="feedback-link">Feedback</a>
    <a href="/notifications" id="notification-link">Notifications</a>
    <a href="/payments" id="payment-link">Payments</a>
</div>

<div class="main-content">
    <div class="content-header">
        <h1>Welcome to Your Dashboard</h1>
        <p>Manage your bookings, tickets, feedback, and payments.</p>
    </div>

    <div class="cards">
        <div class="card history-card" onclick="goToBookingHistory()">
            <h3>Booking History</h3>
            <p>View your past booking records and details.</p>
        </div>

        <div class="card feedback-card" onclick="goToFeedback()">
            <h3>Submit Feedback</h3>
            <p>Give feedback about your travel experience.</p>
        </div>
    </div>

    <div class="cards">
        <div class="card notification-card" onclick="goToNotifications()">
            <h3>Notifications</h3>
            <p>Check for new notifications and updates.</p>
        </div>
        <div class="card history-card" onclick="goToPayments()">
            <h3>Payment History</h3>
            <p>View your payment records and status.</p>
        </div>
    </div>
</div>

<div class="search">
    <h1>Search and Book Train Tickets</h1>
    <form id="search-form">
        <div class="form-group">
            <label for="train-id">Train ID (Optional)</label>
            <input type="text" id="train-id" name="train_id" placeholder="Enter Train ID">
        </div>

        <div class="form-group">
            <label for="journey-date">Journey Start Date</label>
            <input type="date" id="journey-date" name="journey_start_date" required>
        </div>

        <div class="form-group">
            <label for="source">Source Station</label>
            <select id="source" name="source">
                <option value="">Select Source Station</option>
                {% for station in stations %}
                    <option value="{{ station[0] }}">{{ station[1] }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="destination">Destination Station</label>
            <select id="destination" name="destination">
                <option value="">Select Destination Station</option>
                {% for station in stations %}
                    <option value="{{ station[0] }}">{{ station[1] }}</option>
                {% endfor %}
            </select>
        </div>

        <button type="submit" class="search-btn">Search Trains</button>
    </form>

    <hr>

    <h2>Available Trains in given routes</h2>
    <table>
        <thead>
        <tr>
            <th>Train ID</th>
            <th>Train Name</th>
            <th>Start Point</th>
            <th>End Point</th>
            <th>Start Time</th>
            <th>End Time</th>
            <th>Book</th>
        </tr>
        </thead>
        <tbody>
        {% for detail in details %}
        <tr>
            <td>{{ detail[0] }}</td>
            <td>{{ detail[1] }}</td>
            <td>{{ detail[2] }}</td>
            <td>{{ detail[3] }}</td>
            <td>{{ detail[4] }}</td>
            <td>
                <button class="edit-button" onclick="openEditModal({{ detail[0] }}, '{{ detail[1] }}', '{{ detail[2] }}', '{{ detail[3] }}', '{{ detail[4] }}', '{{ detail[5] }}')">Book</button>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

<script>
    // Placeholder functions for navigation
    function goToBookingHistory() {
        alert('Redirecting to Booking History page...');
        // Example: Replace with actual redirection or functionality
    }

    function goToTickets() {
        alert('Redirecting to Tickets page...');
        // Example: Replace with actual redirection or functionality
    }

    function goToFeedback() {
        alert('Redirecting to Feedback page...');
        // Example: Replace with actual redirection or functionality
    }

    function goToNotifications() {
        alert('Redirecting to Notifications page...');
        // Example: Replace with actual redirection or functionality
    }

    function goToPayments() {
        alert('Redirecting to Payments page...');
        // Example: Replace with actual redirection or functionality
    }

    function displaySearchForm() {
        let element = document.getElementsByClassName('search')[0];
        element.style.display = 'block';
    }

    function openEditModal(trainID, trainName, startPoint, endPoint, startTime, endTime) {
        // Here, you can display a modal or handle booking process.
        alert(`Booking Train: ${trainName} (${trainID})\nFrom: ${startPoint} To: ${endPoint}\nStart Time: ${startTime}\nEnd Time: ${endTime}`);
        // Example: Replace with actual modal or form opening code for booking.
    }
</script>

</body>

</html>

